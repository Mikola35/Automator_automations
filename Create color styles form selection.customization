{"id":"lw4r71b58mfe2r3p86o","name":"Create color styles form selection","description":"Select some layers and run this automation. The name of the layer will be the name of the new style, and the solid fill will be the color fill for the style.","color":"yellow","actions":[{"id":"lw4r7jy8ignlra7o6w","command":{"name":"getCurrentSelection","metadata":{},"title":"","description":""},"actions":[{"id":"lw4uwzjvhfv63kgg7n","command":{"name":"forEach","metadata":{"array":""},"title":"","description":""},"actions":[{"id":"lw51hwxnoiwnxmvu0l","command":{"name":"setVariable","metadata":{"key":"name","value":"{{item.name}}"},"title":"","description":""},"actions":[]},{"id":"lw4v6ujz7mrtmignhs","command":{"name":"forEach","metadata":{"array":"{{item.fills}}"},"title":"","description":""},"actions":[{"id":"lw4v2qsxme6gzbwdoa","command":{"name":"setVariable","metadata":{"key":"color","value":"{{item.color}}"},"title":"","description":""},"actions":[{"id":"lw51674xpzu9l3olrh","command":{"name":"setVariable","metadata":{"key":"hexColor","value":"eval(\n  const color = {{color}};\n  \n  function rgbToHex(r, g, b) {\n    r = Math.floor(r * 255).toString(16);\n    g = Math.floor(g * 255).toString(16);\n    b = Math.floor(b * 255).toString(16);\n\n    r = r.length === 1 ? \"0\" + r : r;\n    g = g.length === 1 ? \"0\" + g : g;\n    b = b.length === 1 ? \"0\" + b : b;\n\n    return \"#\" + r + g + b;\n  }\n\n  const hexColor = rgbToHex(color.r, color.g, color.b);\n  hexColor;\n)"},"title":"","description":""},"actions":[{"id":"lw51golu03vjmqlnbb6g","command":{"name":"createColorStyle","metadata":{"fillColor":[{"type":"VARIABLE","value":"{{hexColor}}","alpha":1}],"name":"{{name}}","description":" "},"title":"","description":""},"actions":[]}]}]}]}]}]},{"id":"lw51m1561e792uombkq","command":{"name":"showMessage","metadata":{"message":"Done!"},"title":"","description":""},"actions":[]}],"createdAt":1715592023393,"automationWasChanged":true}